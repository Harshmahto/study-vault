{
  "openapi": "3.0.0",
  "info": {
    "title": "Study vault",
    "description": "# üìö Study Vault API\n\nBackend system for managing academic resources (PDFs) for students.\n\n## üéØ What This API Does\n- **Students**: Browse, filter, and download study materials\n- **Admins**: Upload, update, and delete PDFs with metadata\n\n## üîê Authentication\nUses JWT (JSON Web Token). Get token by logging in first.\n\n## üöÄ Quick Start\n1. Register a user\n2. Login to get token\n3. Use token in Authorization header for other requests\n\n## üìå Base URL\n- Development: `http://localhost:5000`\n- Production: `https://your-deployed-url.com`",
    "contact": {},
    "version": "1.0"
  },
  "servers": [
    {
      "url": "http://localhost:5000",
      "variables": {}
    }
  ],
  "paths": {
    "/test": {
      "get": {
        "tags": [
          "All User"
        ],
        "summary": "test",
        "operationId": "test",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "headers": {}
          }
        },
        "deprecated": false
      }
    },
    "/api/v1/user/register": {
      "post": {
        "tags": [
          "All User"
        ],
        "summary": "Register",
        "operationId": "Register",
        "parameters": [],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/RegisterRequest"
                  },
                  {
                    "example": {
                      "username": "admin",
                      "fullName": "admin",
                      "email": "admin@g.com",
                      "password": "admin",
                      "role": "Admin"
                    }
                  }
                ]
              },
              "example": {
                "username": "admin",
                "fullName": "admin",
                "email": "admin@g.com",
                "password": "admin",
                "role": "Admin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "headers": {}
          }
        },
        "deprecated": false
      }
    },
    "/api/v1/user/login": {
      "post": {
        "tags": [
          "All User"
        ],
        "summary": "Login",
        "operationId": "Login",
        "parameters": [],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/LoginRequest"
                  },
                  {
                    "example": {
                      "username": "admin",
                      "email": "admin@g.com",
                      "password": "admin"
                    }
                  }
                ]
              },
              "example": {
                "username": "admin",
                "email": "admin@g.com",
                "password": "admin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "headers": {}
          }
        },
        "deprecated": false
      }
    },
    "/api/v1/user/logout": {
      "post": {
        "tags": [
          "All User"
        ],
        "summary": "Logout",
        "operationId": "Logout",
        "parameters": [],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/LogoutRequest"
                  },
                  {
                    "example": {
                      "username": "admin",
                      "email": "admin@g.com",
                      "password": "admin"
                    }
                  }
                ]
              },
              "example": {
                "username": "admin",
                "email": "admin@g.com",
                "password": "admin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "headers": {}
          }
        },
        "deprecated": false
      }
    },
    "/api/v1/user/pdfs": {
      "get": {
        "tags": [
          "All User"
        ],
        "summary": "Get All PDFs",
        "operationId": "GetAllPDFs",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "headers": {}
          }
        },
        "deprecated": false
      }
    },
    "/api/v1/user/pdfs/698a83812581ae49d3820fcf": {
      "get": {
        "tags": [
          "All User"
        ],
        "summary": "Get PDF by ID",
        "operationId": "GetPDFbyID",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "headers": {}
          }
        },
        "deprecated": false
      }
    },
    "/api/v1/admin/testadmin": {
      "get": {
        "tags": [
          "Admin Only"
        ],
        "summary": "testadmin",
        "operationId": "testadmin",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "headers": {}
          }
        },
        "deprecated": false
      }
    },
    "/api/v1/admin/upload-pdf": {
      "post": {
        "tags": [
          "Admin Only"
        ],
        "summary": "Upload PDF (Admin)",
        "operationId": "UploadPDF(Admin)",
        "parameters": [],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "encoding": {},
              "schema": {
                "required": [
                  "title",
                  "year",
                  "semester",
                  "branch",
                  "category",
                  "subject",
                  "pdf"
                ],
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "dsa notes"
                  },
                  "year": {
                    "type": "integer",
                    "format": "int32",
                    "example": 2
                  },
                  "semester": {
                    "type": "integer",
                    "format": "int32",
                    "example": 1
                  },
                  "branch": {
                    "type": "string",
                    "example": "CSE"
                  },
                  "category": {
                    "type": "string",
                    "example": "Notes"
                  },
                  "subject": {
                    "type": "string",
                    "example": "Data Structures"
                  },
                  "pdf": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          },
          "required": false
        },
        "responses": {
          "200": {
            "description": "",
            "headers": {}
          }
        },
        "deprecated": false
      }
    },
    "/api/v1/user/pdfs/698a83812581ae49d3820fcf/download": {
      "patch": {
        "tags": [
          "Admin Only"
        ],
        "summary": "Increment Download Count",
        "operationId": "IncrementDownloadCount",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "headers": {}
          }
        },
        "deprecated": false
      }
    },
    "/api/v1/admin/update-pdf/698a83812581ae49d3820fcf": {
      "patch": {
        "tags": [
          "Admin Only"
        ],
        "summary": "Update PDF (Admin)",
        "operationId": "UpdatePDF(Admin)",
        "parameters": [],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/UpdatePDFAdminRequest"
                  },
                  {
                    "example": {
                      "title": "Data Structure",
                      "description": "Updated description"
                    }
                  }
                ]
              },
              "example": {
                "title": "Data Structure",
                "description": "Updated description"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "headers": {}
          }
        },
        "deprecated": false
      }
    },
    "/api/v1/admin/delete-pdf/698a83812581ae49d3820fcf": {
      "delete": {
        "tags": [
          "Admin Only"
        ],
        "summary": "Delete PDF (Admin)",
        "operationId": "DeletePDF(Admin)",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "headers": {}
          }
        },
        "deprecated": false
      }
    }
  },
  "components": {
    "schemas": {
      "RegisterRequest": {
        "title": "RegisterRequest",
        "required": [
          "username",
          "fullName",
          "email",
          "password",
          "role"
        ],
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "fullName": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "role": {
            "type": "string"
          }
        },
        "example": {
          "username": "admin",
          "fullName": "admin",
          "email": "admin@g.com",
          "password": "admin",
          "role": "Admin"
        }
      },
      "LoginRequest": {
        "title": "LoginRequest",
        "required": [
          "username",
          "email",
          "password"
        ],
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        },
        "example": {
          "username": "admin",
          "email": "admin@g.com",
          "password": "admin"
        }
      },
      "LogoutRequest": {
        "title": "LogoutRequest",
        "required": [
          "username",
          "email",
          "password"
        ],
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        },
        "example": {
          "username": "admin",
          "email": "admin@g.com",
          "password": "admin"
        }
      },
      "UpdatePDFAdminRequest": {
        "title": "UpdatePDFAdminRequest",
        "required": [
          "title",
          "description"
        ],
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        },
        "example": {
          "title": "Data Structure",
          "description": "Updated description"
        }
      },
      "DeletePDFAdminRequest": {
        "title": "DeletePDFAdminRequest",
        "required": [
          "title",
          "description"
        ],
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        },
        "example": {
          "title": "Data Structure",
          "description": "Updated description"
        }
      }
    }
  },
  "tags": [
    {
      "name": "All User"
    },
    {
      "name": "Admin Only"
    }
  ]
}